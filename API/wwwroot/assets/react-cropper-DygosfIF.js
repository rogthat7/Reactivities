import{e as m,r as d}from"./react-BwvqamFI.js";import{C as A}from"./cropperjs-Bq9aDmdf.js";var p=function(){return p=Object.assign||function(c){for(var s,e=1,r=arguments.length;e<r;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(c[i]=s[i]);return c},p.apply(this,arguments)};function g(c,s){var e={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&s.indexOf(r)<0&&(e[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(c);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(c,r[i])&&(e[r[i]]=c[r[i]])}return e}var D=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],S={opacity:0,maxWidth:"100%"},F=m.forwardRef(function(c,s){var e=g(c,[]),r=e.dragMode,i=r===void 0?"crop":r,f=e.src,E=e.style,M=e.className,R=e.crossOrigin,j=e.scaleX,W=e.scaleY,X=e.enable,v=e.zoomTo,Y=e.rotateTo,y=e.alt,k=y===void 0?"picture":y,b=e.ready,h=e.onInitialized,O=g(e,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),B={scaleY:W,scaleX:j,enable:X,zoomTo:v,rotateTo:Y},l=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var o=d.useRef(null);return m.useEffect(function(){t.forEach(function(n){n&&(typeof n=="function"?n(o.current):n.current=o.current)})},[t]),o}(s,d.useRef(null));d.useEffect(function(){var t;!((t=l.current)===null||t===void 0)&&t.cropper&&typeof v=="number"&&l.current.cropper.zoomTo(v)},[e.zoomTo]),d.useEffect(function(){var t;!((t=l.current)===null||t===void 0)&&t.cropper&&f!==void 0&&l.current.cropper.reset().clear().replace(f)},[f]),d.useEffect(function(){if(l.current!==null){var t=new A(l.current,p(p({dragMode:i},O),{ready:function(a){a.currentTarget!==null&&function(o,n){n===void 0&&(n={});var u=n.enable,H=u===void 0||u,T=n.scaleX,I=T===void 0?1:T,z=n.scaleY,N=z===void 0?1:z,C=n.zoomTo,w=C===void 0?0:C,x=n.rotateTo;H?o.enable():o.disable(),o.scaleX(I),o.scaleY(N),x!==void 0&&o.rotateTo(x),w>0&&o.zoomTo(w)}(a.currentTarget.cropper,B),b&&b(a)}}));h&&h(t)}return function(){var a,o;(o=(a=l.current)===null||a===void 0?void 0:a.cropper)===null||o===void 0||o.destroy()}},[l]);var P=function(t){return D.reduce(function(a,o){var n=a,u=o;return n[u],g(n,[typeof u=="symbol"?u:u+""])},t)}(p(p({},O),{crossOrigin:R,src:f,alt:k}));return m.createElement("div",{style:E,className:M},m.createElement("img",p({},P,{style:S,ref:l})))});export{F as l};
