import{r as h}from"./react-dom-B76qEhqe.js";import{m as R,c as S,g as O,R as T,o as E}from"./mobx-xjmfNSXz.js";import{r as a,e as v}from"./react-BgDqD0BF.js";import{s as P}from"./use-sync-external-store-CyJQA7jq.js";if(!a.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!R)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function j(e){e()}function x(e){e||(e=j),S({reactionScheduler:e})}function F(e){return O(e)}var z=1e4,$=1e4,D=function(){function e(t){var r=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=z),clearTimeout(r.sweepTimeout),r.sweepTimeout=void 0;var o=Date.now();r.registrations.forEach(function(u,n){o-u.registeredAt>=i&&(r.finalize(u.value),r.registrations.delete(n))}),r.registrations.size>0&&r.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r,i){this.registrations.set(i,{value:r,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,$))}}),e}(),N=typeof FinalizationRegistry<"u"?FinalizationRegistry:D,b=new N(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function d(e){e.reaction=new T("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function w(e,t){t===void 0&&(t="observed");var r=v.useRef(null);if(!r.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(s){return b.unregister(i),i.onStoreChange=s,i.reaction||(d(i),i.stateVersion=Symbol()),function(){var l;i.onStoreChange=null,(l=i.reaction)===null||l===void 0||l.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};r.current=i}var o=r.current;o.reaction||(d(o),b.register(r,o,o)),v.useDebugValue(o.reaction,F),P.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var u,n;if(o.reaction.track(function(){try{u=e()}catch(s){n=s}}),n)throw n;return u}var f,c,g=typeof Symbol=="function"&&Symbol.for,I=(c=(f=Object.getOwnPropertyDescriptor(function(){},"name"))===null||f===void 0?void 0:f.configurable)!==null&&c!==void 0?c:!1,y=g?Symbol.for("react.forward_ref"):typeof a.forwardRef=="function"&&a.forwardRef(function(e){return null}).$$typeof,m=g?Symbol.for("react.memo"):typeof a.memo=="function"&&a.memo(function(e){return null}).$$typeof;function Y(e,t){var r;if(m&&e.$$typeof===m)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(r=void 0)!==null&&r!==void 0?r:!1,o=e,u=e.displayName||e.name;if(y&&e.$$typeof===y&&(i=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var n=function(s,l){return w(function(){return o(s,l)},u)};return n.displayName=e.displayName,I&&Object.defineProperty(n,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(n.contextTypes=e.contextTypes),i&&(n=a.forwardRef(n)),n=a.memo(n),B(e,n),n}var V={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function B(e,t){Object.keys(e).forEach(function(r){V[r]||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}function A(e){var t=e.children,r=e.render;t&&r&&console.error("MobX Observer: Do not use children and render in the same time in `Observer`");var i=t||r;return typeof i!="function"?null:w(i)}A.displayName="Observer";function q(e,t){return a.useState(function(){return E(e(),t,{autoBind:!0})})[0]}var p;x(h.unstable_batchedUpdates);p=b.finalizeAllImmediately;export{A as O,Y as o,q as u};
