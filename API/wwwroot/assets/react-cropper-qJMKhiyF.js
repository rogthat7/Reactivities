import{e as m,r as f}from"./react-BqlbiFCO.js";import{C as A}from"./cropperjs-uBa9Hmhf.js";var d=function(){return d=Object.assign||function(c){for(var l,e=1,n=arguments.length;e<n;e++)for(var i in l=arguments[e])Object.prototype.hasOwnProperty.call(l,i)&&(c[i]=l[i]);return c},d.apply(this,arguments)};function v(c,l){var e={};for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&l.indexOf(n)<0&&(e[n]=c[n]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(c);i<n.length;i++)l.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(c,n[i])&&(e[n[i]]=c[n[i]])}return e}var D=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],S={opacity:0,maxWidth:"100%"},F=m.forwardRef(function(c,l){var e=v(c,[]),n=e.dragMode,i=n===void 0?"crop":n,p=e.src,E=e.style,M=e.className,R=e.crossOrigin,j=e.scaleX,W=e.scaleY,X=e.enable,g=e.zoomTo,Y=e.rotateTo,y=e.alt,k=y===void 0?"picture":y,b=e.ready,h=e.onInitialized,O=v(e,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),B={scaleY:W,scaleX:j,enable:X,zoomTo:g,rotateTo:Y},u=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var r=f.useRef(null);return m.useEffect(function(){o.forEach(function(t){t&&(typeof t=="function"?t(r.current):t.current=r.current)})},[o]),r}(l,f.useRef(null));f.useEffect(function(){var o;!((o=u.current)===null||o===void 0)&&o.cropper&&typeof g=="number"&&u.current.cropper.zoomTo(g)},[e.zoomTo]),f.useEffect(function(){var o;!((o=u.current)===null||o===void 0)&&o.cropper&&p!==void 0&&u.current.cropper.reset().clear().replace(p)},[p]),f.useEffect(function(){if(u.current!==null){var o=new A(u.current,d(d({dragMode:i},O),{ready:function(a){a.currentTarget!==null&&function(r,t){t===void 0&&(t={});var s=t.enable,H=s===void 0||s,T=t.scaleX,I=T===void 0?1:T,z=t.scaleY,N=z===void 0?1:z,C=t.zoomTo,w=C===void 0?0:C,x=t.rotateTo;H?r.enable():r.disable(),r.scaleX(I),r.scaleY(N),x!==void 0&&r.rotateTo(x),w>0&&r.zoomTo(w)}(a.currentTarget.cropper,B),b&&b(a)}}));h&&h(o)}return function(){var a,r;(r=(a=u.current)===null||a===void 0?void 0:a.cropper)===null||r===void 0||r.destroy()}},[u]);var P=function(o){return D.reduce(function(a,r){var t=a,s=r;return t[s],v(t,[typeof s=="symbol"?s:s+""])},o)}(d(d({},O),{crossOrigin:R,src:p,alt:k}));return m.createElement("div",{style:E,className:M},m.createElement("img",d({},P,{style:S,ref:u})))});export{F as l};
